<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./reset.css" />
    <link rel="stylesheet" href="./index.css" />
    <title>Chan Bank</title>
  </head>
  <body>
    <div id="main-img-wrapper">
      <img
        width="320"
        src="./assets/Lovepik_com-401339128-data-management-data-analysis-icon-free-vector-illustration-mate.png"
        alt="coding img"
      />
    </div>

    <div id="intro-main">
      <p>안녕하세요, 박찬건입니다.</p>
      <p>클론 코딩 중..</p>
      <p id="join-us-text">Join us!</p>
      <img id="down-arrow-icon" src="./assets/down-arrow.png" alt="down arrow" />
    </div>

    <ul id="list-item-wrapper">
      <li class="list-item">띠리로리리링</li>
      <li class="list-item">박찬건</li>
      <li class="list-item">클론코딩</li>
      <li class="list-item">CSS3</li>
      <li class="list-item">Nesting</li>
      <li class="list-item">Hello</li>
      <li class="list-item">띠리로리리링</li>
      <li class="list-item">박찬건</li>
      <li class="list-item">클론코딩</li>
      <li class="list-item">CSS3</li>
      <li class="list-item">Nesting</li>
      <li class="list-item">Hello</li>
      <li class="list-item">띠리로리리링</li>
      <li class="list-item">박찬건</li>
      <li class="list-item">클론코딩</li>
      <li class="list-item">CSS3</li>
      <li class="list-item">Nesting</li>
      <li class="list-item">Hello</li>
      <li class="list-item">띠리로리리링</li>
      <li class="list-item">박찬건</li>
      <li class="list-item">클론코딩</li>
      <li class="list-item">CSS3</li>
      <li class="list-item">Nesting</li>
      <li class="list-item">Hello</li>
      <li class="list-item">띠리로리리링</li>
      <li class="list-item">박찬건</li>
      <li class="list-item">클론코딩</li>
      <li class="list-item">CSS3</li>
      <li class="list-item">Nesting</li>
      <li class="list-item">Hello</li>
      <li class="list-item">띠리로리리링</li>
      <li class="list-item">박찬건</li>
      <li class="list-item">클론코딩</li>
      <li class="list-item">CSS3</li>
      <li class="list-item">Nesting</li>
      <li class="list-item">Hello</li>
    </ul>

    <script>
      // TODO: requestAnimationFrame, IntersectionObserver로 리팩토링 해보기
      
      const listStyleChangeStartY = 290
      const listStyleChangeEndY = 1739

      const listItems = document.querySelectorAll(".list-item")

      const division = (listStyleChangeEndY - listStyleChangeStartY) / listItems.length

      window.addEventListener("scroll", () => {
        console.log(window.scrollY)

        if (document.getElementById("on")) {
          document.getElementById("on").removeAttribute("id")
        }

        if (window.scrollY > listStyleChangeStartY && window.scrollY < listStyleChangeEndY) {
          const target = Math.floor((window.scrollY - listStyleChangeStartY) / division)

          listItems[target].id = "on"
        }
      })
    </script>
  </body>
</html>
